{"ast":null,"code":"import { create } from \"zustand\";\nimport { persist, createJSONStorage } from \"zustand/middleware\";\n\n// Define a store\n// Define a store\nexport const categoryStore = create(persist(set => ({\n  categories: [],\n  // Função para adicionar uma nova categoria\n  addCategory: category => {\n    console.log(\"Adicionando categoria:\", category);\n    set(state => ({\n      categories: [...state.categories, category]\n    }));\n  },\n  // Função para editar uma categoria existente\n  editCategory: (oldCategory, updatedCategory) => {\n    console.log(\"Editando categoria:\", oldCategory, updatedCategory);\n    set(state => ({\n      categories: state.categories.map(category => category.name === oldCategory ? {\n        ...category,\n        ...updatedCategory\n      } : category)\n    }));\n  },\n  // Função para excluir uma categoria\n  deleteCategory: deleteCategory => {\n    console.log(\"Excluindo categoria:\", deleteCategory);\n    set(state => ({\n      categories: state.categories.filter(category => category.name !== deleteCategory)\n    }));\n  },\n  fetchCategories: async () => {\n    try {\n      const response = await fetch(\"http://localhost:8080/project_backend/rest/users/categories\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      if (response.ok) {\n        const categories = await response.json();\n        set(state => ({\n          categories: [...state.categories, ...categories] // Mesclar as novas categorias com o estado existente\n        }));\n      } else {\n        console.error(\"Failed to fetch categories:\", response.statusText);\n      }\n    } catch (error) {\n      console.error(\"Error fetching categories:\", error);\n    }\n  }\n}), {\n  name: \"categoryStore\",\n  storage: createJSONStorage(() => sessionStorage)\n}));","map":{"version":3,"names":["create","persist","createJSONStorage","categoryStore","set","categories","addCategory","category","console","log","state","editCategory","oldCategory","updatedCategory","map","name","deleteCategory","filter","fetchCategories","response","fetch","method","headers","ok","json","error","statusText","storage","sessionStorage"],"sources":["D:/AoR/41.Projeto4/projecto4frontend/src/stores/CategoryStore.jsx"],"sourcesContent":["import { create } from \"zustand\";\r\nimport { persist, createJSONStorage } from \"zustand/middleware\";\r\n\r\n// Define a store\r\n// Define a store\r\nexport const categoryStore = create(\r\n    persist(\r\n        (set) => ({\r\n            categories: [],\r\n            // Função para adicionar uma nova categoria\r\n            addCategory: (category) => {\r\n                console.log(\"Adicionando categoria:\", category);\r\n                set((state) => ({\r\n                    categories: [...state.categories, category],\r\n                }));\r\n            },\r\n            // Função para editar uma categoria existente\r\n            editCategory: (oldCategory, updatedCategory) => {\r\n                console.log(\"Editando categoria:\", oldCategory, updatedCategory);\r\n                set((state) => ({\r\n                    categories: state.categories.map((category) =>\r\n                        category.name === oldCategory ? { ...category, ...updatedCategory } : category\r\n                    ),\r\n                }));\r\n            },\r\n            // Função para excluir uma categoria\r\n            deleteCategory: (deleteCategory) => {\r\n                console.log(\"Excluindo categoria:\", deleteCategory);\r\n                set((state) => ({\r\n                    categories: state.categories.filter((category) => category.name !== deleteCategory),\r\n                }));\r\n            },\r\n            fetchCategories: async () => {\r\n                try {\r\n                    const response = await fetch(\"http://localhost:8080/project_backend/rest/users/categories\", {\r\n                        method: \"GET\",\r\n                        headers: {\r\n                            \"Content-Type\": \"application/json\",\r\n                        },\r\n                    });\r\n                    if (response.ok) {\r\n                        const categories = await response.json();\r\n                        set((state) => ({\r\n                            categories: [...state.categories, ...categories], // Mesclar as novas categorias com o estado existente\r\n                        }));\r\n                    } else {\r\n                        console.error(\"Failed to fetch categories:\", response.statusText);\r\n                    }\r\n                } catch (error) {\r\n                    console.error(\"Error fetching categories:\", error);\r\n                }\r\n            },\r\n        }),\r\n        {\r\n            name: \"categoryStore\",\r\n            storage: createJSONStorage(() => sessionStorage),\r\n        }\r\n    )\r\n);\r\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,SAAS;AAChC,SAASC,OAAO,EAAEC,iBAAiB,QAAQ,oBAAoB;;AAE/D;AACA;AACA,OAAO,MAAMC,aAAa,GAAGH,MAAM,CAC/BC,OAAO,CACFG,GAAG,KAAM;EACNC,UAAU,EAAE,EAAE;EACd;EACAC,WAAW,EAAGC,QAAQ,IAAK;IACvBC,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEF,QAAQ,CAAC;IAC/CH,GAAG,CAAEM,KAAK,KAAM;MACZL,UAAU,EAAE,CAAC,GAAGK,KAAK,CAACL,UAAU,EAAEE,QAAQ;IAC9C,CAAC,CAAC,CAAC;EACP,CAAC;EACD;EACAI,YAAY,EAAEA,CAACC,WAAW,EAAEC,eAAe,KAAK;IAC5CL,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEG,WAAW,EAAEC,eAAe,CAAC;IAChET,GAAG,CAAEM,KAAK,KAAM;MACZL,UAAU,EAAEK,KAAK,CAACL,UAAU,CAACS,GAAG,CAAEP,QAAQ,IACtCA,QAAQ,CAACQ,IAAI,KAAKH,WAAW,GAAG;QAAE,GAAGL,QAAQ;QAAE,GAAGM;MAAgB,CAAC,GAAGN,QAC1E;IACJ,CAAC,CAAC,CAAC;EACP,CAAC;EACD;EACAS,cAAc,EAAGA,cAAc,IAAK;IAChCR,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEO,cAAc,CAAC;IACnDZ,GAAG,CAAEM,KAAK,KAAM;MACZL,UAAU,EAAEK,KAAK,CAACL,UAAU,CAACY,MAAM,CAAEV,QAAQ,IAAKA,QAAQ,CAACQ,IAAI,KAAKC,cAAc;IACtF,CAAC,CAAC,CAAC;EACP,CAAC;EACDE,eAAe,EAAE,MAAAA,CAAA,KAAY;IACzB,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,6DAA6D,EAAE;QACxFC,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB;MACJ,CAAC,CAAC;MACF,IAAIH,QAAQ,CAACI,EAAE,EAAE;QACb,MAAMlB,UAAU,GAAG,MAAMc,QAAQ,CAACK,IAAI,CAAC,CAAC;QACxCpB,GAAG,CAAEM,KAAK,KAAM;UACZL,UAAU,EAAE,CAAC,GAAGK,KAAK,CAACL,UAAU,EAAE,GAAGA,UAAU,CAAC,CAAE;QACtD,CAAC,CAAC,CAAC;MACP,CAAC,MAAM;QACHG,OAAO,CAACiB,KAAK,CAAC,6BAA6B,EAAEN,QAAQ,CAACO,UAAU,CAAC;MACrE;IACJ,CAAC,CAAC,OAAOD,KAAK,EAAE;MACZjB,OAAO,CAACiB,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IACtD;EACJ;AACJ,CAAC,CAAC,EACF;EACIV,IAAI,EAAE,eAAe;EACrBY,OAAO,EAAEzB,iBAAiB,CAAC,MAAM0B,cAAc;AACnD,CACJ,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}