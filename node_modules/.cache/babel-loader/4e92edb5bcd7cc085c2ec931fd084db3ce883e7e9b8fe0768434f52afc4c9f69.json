{"ast":null,"code":"var _jsxFileName = \"D:\\\\AoR\\\\41.Projeto4\\\\projecto4frontend\\\\src\\\\components\\\\TaskCard\\\\TaskCard.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport \"../TaskCard/TaskCard.css\";\nimport { Link } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\nimport { userStore } from '../../stores/UserStore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TaskCard({\n  task\n}) {\n  _s();\n  const navigate = useNavigate();\n  const {\n    fetchTasks\n  } = taskStore();\n  const taskId = task.id;\n  const {\n    id,\n    title,\n    description,\n    priority,\n    erased\n  } = task;\n  const token = userStore(state => state.token);\n\n  // Traduzindo a prioridade de int para string\n  const translatePriority = priorityInt => {\n    switch (priorityInt) {\n      case 100:\n        return \"Low\";\n      case 200:\n        return \"Medium\";\n      case 300:\n        return \"High\";\n      default:\n        return \"\";\n    }\n  };\n  const priorityString = translatePriority(priority);\n  const getPriorityBorderClass = () => {\n    switch (priorityString) {\n      case \"High\":\n        return \"border-red\";\n      case \"Medium\":\n        return \"border-yellow\";\n      case \"Low\":\n        return \"border-green\";\n      default:\n        return \"\";\n    }\n  };\n  const priorityBorderClass = getPriorityBorderClass();\n  const handleEraseTask = async () => {\n    try {\n      const response = await fetch(`http://localhost:8080/project_backend/rest/users/${taskId}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          token: token\n        }\n      });\n      if (response.ok) {\n        fetchTasks();\n        navigate(\"/home\", {\n          replace: true\n        });\n      } else {\n        const responseBody = await response.text();\n        console.error(\"Error deleting task:\", response.statusText, responseBody);\n      }\n    } catch (error) {\n      console.error(\"Error deleting task:\", error);\n    }\n  };\n  const handleDeleteTask = async () => {\n    try {\n      const response = await fetch(`http://localhost:8080/project_backend/rest/users/delete/${taskId}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          token: token\n        }\n      });\n      if (response.ok) {\n        fetchTasks();\n        navigate(\"/tasks-deleted\", {\n          replace: true\n        });\n      } else {\n        const responseBody = await response.text();\n        console.error(\"Error deleting task:\", response.statusText, responseBody);\n      }\n    } catch (error) {\n      console.error(\"Error deleting task:\", error);\n    }\n  };\n  const handleRestoreTask = async () => {\n    try {\n      const response = await fetch(`http://localhost:8080/project_backend/rest/users/${taskId}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          token: token\n        }\n      });\n      if (response.ok) {\n        fetchTasks();\n        navigate(\"/home\", {\n          replace: true\n        });\n      } else {\n        const responseBody = await response.text();\n        console.error(\"Error deleting task:\", response.statusText, responseBody);\n      }\n    } catch (error) {\n      console.error(\"Error deleting task:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `task ${priorityBorderClass}`,\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: `/edit-task/${id}`,\n      className: \"task-title-solo\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"task-description-solo\",\n      children: description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this), erased ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"task-restore\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"multimedia/reload1-03.png\",\n          alt: \"Restore\",\n          className: \"restore-icon\",\n          onClick: handleRestoreTask\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"task-delete\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"multimedia/dark-cross-01.png\",\n          alt: \"Delete\",\n          className: \"delete-icon\",\n          onClick: handleDeleteTask\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"task-erase\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"multimedia/dark-cross-01.png\",\n        alt: \"Erase\",\n        className: \"erase-icon\",\n        onClick: handleEraseTask\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 9\n  }, this);\n}\n_s(TaskCard, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = TaskCard;\nvar _c;\n$RefreshReg$(_c, \"TaskCard\");","map":{"version":3,"names":["React","Link","useNavigate","userStore","jsxDEV","_jsxDEV","TaskCard","task","_s","navigate","fetchTasks","taskStore","taskId","id","title","description","priority","erased","token","state","translatePriority","priorityInt","priorityString","getPriorityBorderClass","priorityBorderClass","handleEraseTask","response","fetch","method","headers","ok","replace","responseBody","text","console","error","statusText","handleDeleteTask","handleRestoreTask","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onClick","_c","$RefreshReg$"],"sources":["D:/AoR/41.Projeto4/projecto4frontend/src/components/TaskCard/TaskCard.jsx"],"sourcesContent":["import React from 'react';\r\nimport \"../TaskCard/TaskCard.css\";\r\nimport { Link } from 'react-router-dom';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { userStore } from '../../stores/UserStore';\r\n\r\nexport default function TaskCard({ task }) {\r\n    const navigate = useNavigate();\r\n    const { fetchTasks } = taskStore();\r\n    const taskId = task.id;\r\n    const { id, title, description, priority, erased } = task;\r\n    const token = userStore((state) => state.token);\r\n\r\n    // Traduzindo a prioridade de int para string\r\n    const translatePriority = (priorityInt) => {\r\n        switch (priorityInt) {\r\n            case 100:\r\n                return \"Low\";\r\n            case 200:\r\n                return \"Medium\";\r\n            case 300:\r\n                return \"High\";\r\n            default:\r\n                return \"\";\r\n        }\r\n    }\r\n\r\n    const priorityString = translatePriority(priority);\r\n\r\n    const getPriorityBorderClass = () => {\r\n        switch (priorityString) {\r\n            case \"High\":\r\n                return \"border-red\";\r\n            case \"Medium\":\r\n                return \"border-yellow\";\r\n            case \"Low\":\r\n                return \"border-green\";\r\n            default:\r\n                return \"\";\r\n        }\r\n    }\r\n\r\n    const priorityBorderClass = getPriorityBorderClass();\r\n\r\n    const handleEraseTask = async () => {\r\n        try {\r\n            const response = await fetch(`http://localhost:8080/project_backend/rest/users/${taskId}`, {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    token: token\r\n                },\r\n            });\r\n\r\n            if (response.ok) {\r\n                fetchTasks();\r\n                navigate(\"/home\", { replace: true });\r\n            } else {\r\n                const responseBody = await response.text();\r\n                console.error(\"Error deleting task:\", response.statusText, responseBody);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error deleting task:\", error);\r\n        }\r\n    };\r\n\r\n    const handleDeleteTask = async () => {\r\n        try {\r\n            const response = await fetch(`http://localhost:8080/project_backend/rest/users/delete/${taskId}`, {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    token: token\r\n                },\r\n            });\r\n\r\n            if (response.ok) {\r\n                fetchTasks();\r\n                navigate(\"/tasks-deleted\", { replace: true });\r\n            } else {\r\n                const responseBody = await response.text();\r\n                console.error(\"Error deleting task:\", response.statusText, responseBody);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error deleting task:\", error);\r\n        }\r\n    };\r\n\r\n    const handleRestoreTask = async () => {\r\n        try {\r\n            const response = await fetch(`http://localhost:8080/project_backend/rest/users/${taskId}`, {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    token: token\r\n                },\r\n            });\r\n\r\n            if (response.ok) {\r\n                fetchTasks();\r\n                navigate(\"/home\", { replace: true });\r\n            } else {\r\n                const responseBody = await response.text();\r\n                console.error(\"Error deleting task:\", response.statusText, responseBody);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error deleting task:\", error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={`task ${priorityBorderClass}`}>\r\n            <Link to={`/edit-task/${id}`} className=\"task-title-solo\">\r\n                {title}\r\n            </Link>\r\n            <div className=\"task-description-solo\">{description}</div>\r\n            {erased ? (\r\n                <div>\r\n                <div className=\"task-restore\">\r\n                    <img src=\"multimedia/reload1-03.png\" alt=\"Restore\" className=\"restore-icon\" onClick={handleRestoreTask} />\r\n                </div>\r\n                <div className=\"task-delete\">\r\n                    <img src=\"multimedia/dark-cross-01.png\" alt=\"Delete\" className=\"delete-icon\" onClick={handleDeleteTask} />\r\n                </div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"task-erase\">\r\n                    <img src=\"multimedia/dark-cross-01.png\" alt=\"Erase\" className=\"erase-icon\" onClick={handleEraseTask} />\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}